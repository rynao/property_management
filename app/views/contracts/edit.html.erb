<%= render 'layouts/header' %>

<div class='container mt-5'>
  <h3>契約情報登録</h3>
  <%= form_with model:@contract, local: true do |f| %>
    <div class='row g-3'>
      <div class="property-area col-md-3 mb-3">
        <label class='form-label'>物件名称</label>
        <select name='property_id', id ='property_id', class='form-control'>
          <option value=<%= @contract.property.id %>><%= @contract.property.building %></option>
          <% current_user.property.all.each do |property| %>
            <option value=<%= property.id %>><%= property.building %></option> 
          <% end %>
        </select>
      </div>
      <div class="col-md-2 mb-3", id="room-area">
        <label class='form-label'>部屋</label>
        <select name='room_id', id ='room_id', class='form-control'>
          <option value=<%= @contract.room.id %>><%= @contract.room.name %></option>
          <% current_user.rooms.all.each do |room| %>
            <option value=<%= room.id %>><%= room.name %></option> 
          <% end %>
        </select>
      </div>
      <div class='col-md-2 mb-3'>
        <label class='form-label'>契約開始日</label>
        <%= f.date_field :start_date, class:'form-control' %>
        </div>
      <div class='col-md-2 mb-3'>
        <label class='form-label'>契約終了日</label>
        <%= f.date_field :end_date, class:'form-control' %>
      </div>
      <div class='col-md-2 mb-3'>
        <label class='form-label'>契約者</label>
        <%= f.text_field :contractor, class:'form-control', placeholder:'例：谷中太郎' %>
      </div>
      <div class='col-md-2 mb-3'>
        <label class='form-label'>家賃</label>
        <%= f.text_field :rent, class:'form-control', placeholder:'例：70000' %>
      </div>
      <div class='col-md-2 mb-3'>
        <label class='form-label'>管理費</label>
        <%= f.text_field :management_cost, class:'form-control', placeholder:'例：2000' %>
      </div>
      <div class=''>
        <%= f.submit "更新" ,class:'btn btn-primary' %>
        <%=link_to 'もどる', contracts_path, class:'' %>
      </div>
    </div>
  <% end %>
  </div>
</div>